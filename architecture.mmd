graph TB
    subgraph "GitHub"
        A[GitHub Repository]
        B[GitHub Actions]
    end
    
    subgraph "Docker Hub"
        P[Frontend Images]
    end
    
    subgraph "AWS Cloud - ap-south-1"
        subgraph "VPC"
            C[EKS Cluster]
            subgraph "EKS Nodes"
                D[Node Group]
            end
        end
        E[Application Load Balancer]
    end
    
    subgraph "Cloudflare"
        G[DNS - nainika.store]
        H[Let's Encrypt Certificates]
    end
    
    subgraph "K8s Namespaces"
        subgraph "prod"
            I[Frontend App - Prod]
            J[Ingress - Prod]
        end
        subgraph "stage"
            K[Frontend App - Stage]
            L[Ingress - Stage]
        end
        subgraph "monitoring"
            M[Prometheus]
            N[Grafana]
        end
        subgraph "ingress-nginx"
            O[NGINX Ingress Controller]
        end
    end
    
    A --> B
    B -->|Terraform Apply| C
    B -->|Docker Build & Push| P
    B -->|Helm Deploy| I
    B -->|Helm Deploy| K
    G --> E
    E --> O
    O --> J
    O --> L
    J --> I
    L --> K

    classDef aws fill:#FF9900,color:#000
    classDef k8s fill:#326CE5,color:#FFF
    classDef external fill:#6B46C1,color:#FFF
    classDef dev fill:#38A169,color:#FFF

    class A dev
    class E,F,G,H aws
    class I,J,K,L,M,N,O,P,Q,R,S,T k8s
    class U,V external